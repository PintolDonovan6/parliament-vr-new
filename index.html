<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>PNG Parliament VR Tour - 4 Rooms</title>
    <script src="https://aframe.io/releases/1.4.0/aframe.min.js"></script>
  </head>
  <body>
    <a-scene>

      <!-- Sky and Room Label -->
      <a-sky id="sky" src="https://cdn.aframe.io/360-image-gallery-boilerplate/img/sechelt.jpg"></a-sky>
      <a-text id="room-label" value="Entrance Hall" position="-2 2 -3" color="yellow" width="6"></a-text>

      <!-- Navigation Boxes -->
      <a-box id="to-chamber" position="2 1 -3" depth="0.5" height="1" width="1.5" color="green">
        <a-text value="Go to Chamber" position="-0.65 0 0.6" color="black" width="2"></a-text>
      </a-box>

      <a-box id="to-library" position="-2 1 -3" depth="0.5" height="1" width="1.5" color="blue" visible="false">
        <a-text value="Go to Library" position="-0.65 0 0.6" color="white" width="2"></a-text>
      </a-box>

      <a-box id="to-cafeteria" position="0 1 -3" depth="0.5" height="1" width="1.5" color="orange" visible="false">
        <a-text value="Go to Cafeteria" position="-0.65 0 0.6" color="black" width="2"></a-text>
      </a-box>

      <a-box id="back-to-entrance" position="0 1 -3" depth="0.5" height="1" width="1.5" color="red" visible="false">
        <a-text value="Back to Entrance" position="-0.65 0 0.6" color="white" width="2"></a-text>
      </a-box>

      <!-- Camera + Cursor -->
      <a-entity camera look-controls position="0 1.6 0">
        <a-cursor
          fuse="true"
          fuse-timeout="500"
          raycaster="objects: a-box"
          material="color: white; shader: flat"
          geometry="primitive: ring; radiusInner: 0.01; radiusOuter: 0.02">
        </a-cursor>
      </a-entity>

    </a-scene>

    <script>
      const sky = document.querySelector('#sky');
      const label = document.querySelector('#room-label');
      const toChamber = document.querySelector('#to-chamber');
      const toLibrary = document.querySelector('#to-library');
      const toCafeteria = document.querySelector('#to-cafeteria');
      const backToEntrance = document.querySelector('#back-to-entrance');

      // Entrance Hall → Chamber
      toChamber.addEventListener('click', () => {
        sky.setAttribute('src', 'https://cdn.aframe.io/360-image-gallery-boilerplate/img/royal_oak.jpg');
        label.setAttribute('value', 'Parliament Chamber');
        toChamber.setAttribute('visible', 'false');
        toLibrary.setAttribute('visible', 'true');
        toCafeteria.setAttribute('visible', 'true');
        backToEntrance.setAttribute('visible', 'true');
      });

      // Chamber → Library
      toLibrary.addEventListener('click', () => {
        sky.setAttribute('src', 'https://cdn.aframe.io/360-image-gallery-boilerplate/img/coral_reef.jpg');
        label.setAttribute('value', 'Library');
        toLibrary.setAttribute('visible', 'false');
        toCafeteria.setAttribute('visible', 'true');
        backToEntrance.setAttribute('visible', 'true');
      });

      // Chamber → Cafeteria
      toCafeteria.addEventListener('click', () => {
        sky.setAttribute('src', 'https://cdn.aframe.io/360-image-gallery-boilerplate/img/bridge.jpg');
        label.setAttribute('value', 'Cafeteria');
        toCafeteria.setAttribute('visible', 'false');
        toLibrary.setAttribute('visible', 'true');
        backToEntrance.setAttribute('visible', 'true');
      });

      // Any room → Entrance Hall
      backToEntrance.addEventListener('click', () => {
        sky.setAttribute('src', 'https://cdn.aframe.io/360-image-gallery-boilerplate/img/sechelt.jpg');
        label.setAttribute('value', 'Entrance Hall');
        toChamber.setAttribute('visible', 'true');
        toLibrary.setAttribute('visible', 'false');
        toCafeteria.setAttribute('visible', 'false');
        backToEntrance.setAttribute('visible', 'false');
      });
    </script>
  </body>
</html>
