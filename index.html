<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>PNG Parliament VR Tour</title>
    <script src="https://aframe.io/releases/1.4.0/aframe.min.js"></script>
  </head>
  <body>
    <a-scene>
      
      <!-- Sky and Room Label -->
      <a-sky id="sky" src="entrance-hall.jpg"></a-sky>
      <a-text
        id="room-label"
        value="Entrance Hall"
        position="-2 2 -3"
        color="yellow"
        width="6"
      ></a-text>

      <!-- Navigation Boxes -->
      <a-box
        id="btn-to-state"
        position="2 1 -3"
        depth="0.5"
        height="1"
        width="1.5"
        color="green"
        class="clickable"
      >
        <a-text value="Go to State Room" position="-0.65 0 0.6" color="black" width="2"></a-text>
      </a-box>

      <a-box
        id="btn-to-gallery"
        position="-2 1 -3"
        depth="0.5"
        height="1"
        width="1.5"
        color="blue"
        class="clickable"
        visible="false"
      >
        <a-text value="Go to Public Gallery" position="-0.65 0 0.6" color="white" width="2"></a-text>
      </a-box>

      <a-box
        id="btn-back"
        position="0 1 -3"
        depth="0.5"
        height="1"
        width="1.5"
        color="orange"
        class="clickable"
        visible="false"
      >
        <a-text value="Back to Entrance" position="-1.15 0 0.6" color="black" width="2"></a-text>
      </a-box>

      <!-- Camera + Cursor -->
      <a-entity camera look-controls position="0 1.6 0">
        <a-cursor
          fuse="true"
          fuse-timeout="500"
          raycaster="objects: .clickable"
          material="color: white; shader: flat"
          geometry="primitive: ring; radiusInner: 0.015; radiusOuter: 0.03"
        ></a-cursor>
      </a-entity>

    </a-scene>

    <script>
      const sky = document.querySelector("#sky");
      const label = document.querySelector("#room-label");

      const btnToState = document.querySelector("#btn-to-state");
      const btnToGallery = document.querySelector("#btn-to-gallery");
      const btnBack = document.querySelector("#btn-back");

      // Entrance Hall → State Room
      btnToState.addEventListener("click", () => {
        sky.setAttribute("src", "state-room.jpg");
        label.setAttribute("value", "State Room");

        btnToState.setAttribute("visible", "false");
        btnToGallery.setAttribute("visible", "true");
        btnBack.setAttribute("visible", "true");
      });

      // State Room → Public Gallery
      btnToGallery.addEventListener("click", () => {
        sky.setAttribute("src", "public-gallery.jpg");
        label.setAttribute("value", "Public Gallery");

        btnToGallery.setAttribute("visible", "false");
        btnBack.setAttribute("visible", "true");
      });

      // Any room → Entrance Hall
      btnBack.addEventListener("click", () => {
        sky.setAttribute("src", "entrance-hall.jpg");
        label.setAttribute("value", "Entrance Hall");

        btnBack.setAttribute("visible", "false");
        btnToState.setAttribute("visible", "true");
        btnToGallery.setAttribute("visible", "false");
      });
    </script>
  </body>
</html>
